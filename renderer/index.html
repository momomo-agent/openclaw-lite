<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenClaw Lite</title>
  <script src="lib/marked.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Setup screen -->
  <div id="setupScreen" class="screen">
    <div class="setup-container">
      <h1>‚ö° OpenClaw Lite</h1>
      <p class="subtitle">Portable local AI assistant</p>

      <div class="setup-actions">
        <button class="setup-btn" onclick="createNew()">
          <span class="setup-icon">+</span>
          <span class="setup-label">Create New</span>
          <span class="setup-hint">Set up a new Claw directory</span>
        </button>
        <button class="setup-btn" onclick="openExisting()">
          <span class="setup-icon">üìÇ</span>
          <span class="setup-label">Open Existing</span>
          <span class="setup-hint">Use an existing directory</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Chat screen -->
  <div id="chatScreen" class="screen" style="display:none">
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <span>Sessions</span>
        <button class="icon-btn" onclick="newSession()">+</button>
      </div>
      <div id="sessionList" class="session-list"></div>
    </div>
    <div class="chat-main">
      <div class="chat-header">
        <button class="icon-btn" onclick="toggleSidebar()">‚ò∞</button>
        <span id="sessionTitle">New Chat</span>
        <div class="header-actions">
          <button class="icon-btn" onclick="exportChat()">üì•</button>
          <button class="icon-btn" onclick="openSettings()">‚öôÔ∏è</button>
        </div>
      </div>
      <div id="messages" class="messages"></div>
      <div class="input-bar">
        <textarea id="input" placeholder="Ask anything..." rows="1"></textarea>
        <button id="sendBtn" onclick="send()">‚Üë</button>
      </div>
    </div>
  </div>

  <!-- Settings overlay -->
  <div id="settingsOverlay" class="overlay" style="display:none" onclick="if(event.target===this)closeSettings()">
    <div class="settings-panel">
      <div class="settings-header">
        <span>Settings</span>
        <button class="icon-btn" onclick="closeSettings()">‚úï</button>
      </div>
      <div class="settings-body">
        <label>Provider</label>
        <select id="cfgProvider">
          <option value="anthropic">Anthropic</option>
          <option value="openai">OpenAI</option>
        </select>
        <label>API Key</label>
        <input id="cfgApiKey" type="password" placeholder="sk-...">
        <label>Base URL <span class="hint">(optional)</span></label>
        <input id="cfgBaseUrl" type="text" placeholder="https://api.anthropic.com">
        <label>Model <span class="hint">(optional)</span></label>
        <input id="cfgModel" type="text" placeholder="claude-sonnet-4-20250514">
        <label>Tavily API Key <span class="hint">(for search tool)</span></label>
        <input id="cfgTavilyKey" type="password" placeholder="tvly-...">
        <button class="primary-btn" onclick="saveSettings()">Save</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
